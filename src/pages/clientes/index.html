<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gestión de Clientes - EventManager</title>

  <!-- Estilos globales -->
  <link rel="stylesheet" href="../../css/variables.css">
  <link rel="stylesheet" href="../../css/main.css">
  <link rel="stylesheet" href="../../css/components.css">
  <link rel="stylesheet" href="../../css/landing.css">

  <style>
    :root {
      --primary-color: #2E4A8B;
      --secondary-color: #1f3260;
      --light-bg: #f9f9f9;
    }

    body {
      font-family: "Chivo", sans-serif;
      margin: 0;
      color: #222;
    }

    .has-navbar {
      padding-top: 90px;
    }

    main {
      margin-top: 2rem;
      margin-bottom: 2rem;
    }

    #footer-container {
      margin-top: 1rem;
    }

    .container {
      width: 90%;
      max-width: 1100px;
      margin: 0 auto;
    }

    h2 {
      color: var(--primary-color);
      text-align: center;
      margin-bottom: .3rem;
    }

    p {
      text-align: center;
      color: #666;
      margin-bottom: 2rem;
    }

    .tabs {
      display: flex;
      justify-content: center;
      gap: .5rem;
      margin-bottom: 1rem;
    }

    .tab-button {
      padding: .6rem 1.2rem;
      border: 1px solid var(--primary-color);
      border-radius: 8px;
      cursor: pointer;
      color: var(--primary-color);
      background: transparent;
      font-weight: 600;
      transition: .3s;
    }

    .tab-button.active {
      background: var(--primary-color);
      color: white;
    }

    .tab-content { display: none; }
    .tab-content.active { display: block; }

    .table-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      border-radius: 8px;
      overflow: hidden;
    }

    thead {
      background: var(--primary-color);
      color: white;
    }

    th, td {
      padding: .8rem 1rem;
      text-align: left;
    }

    tbody tr:nth-child(even) { background: var(--light-bg); }
    tbody tr:hover { background: #eef3ff; }

    .btn-primary {
      background: var(--primary-color);
      color: white;
      border: none;
      border-radius: 8px;
      padding: .6rem 1rem;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: .4rem;
      transition: .2s;
    }

    .btn-primary:hover { background: var(--secondary-color); }

    .btn-edit {
      background: var(--primary-color);
      color: white;
      border: none;
      border-radius: 6px;
      padding: .3rem .8rem;
      cursor: pointer;
      font-size: .85rem;
      transition: .2s;
    }

    .btn-delete {
      background: red;
    }

    .btn-disabled {
      cursor: not-allowed;
      background-color: #999;
    }
    
    .btn-edit:hover { background: var(--secondary-color); }

    .btn-disabled:hover {
      cursor: not-allowed;
      background-color: #666;
    }
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .modal.active { display: flex; }

    .modal-content {
      background: white;
      padding: 1.5rem;
      border-radius: 10px;
      width: 90%;
      max-width: 400px;
    }

  .modal-content h3 {
    margin-bottom: 1rem;
  }

    .modal-content input {
      width: 100%;
      padding: .6rem;
      margin-bottom: .8rem;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    .modal-actions {
      display: flex;
      justify-content: flex-end;
      gap: .5rem;
    }

    .btn-cancel {
      background: #ccc;
      border: none;
      padding: .5rem 1rem;
      border-radius: 6px;
      cursor: pointer;
    }

    /* Estilos para selects en modales */
    .modal-content select {
      width: 100%;
      padding: .6rem;
      margin-bottom: .8rem;
      border: 1px solid #ccc;
      border-radius: 6px;
      background: white;
      font-size: 1rem;
      color: #333;
      cursor: pointer;
      transition: border-color 0.3s, box-shadow 0.3s;
    }

    .modal-content select:focus {
      border-color: var(--primary-color);
      outline: none;
      box-shadow: 0 0 5px rgba(46, 74, 139, 0.3);
    }

    .modal-content select:hover {
      border-color: #999;
    }
  </style>
</head>

<body class="has-navbar">
  <!-- Header -->
  <div id="navbar-container"></div>

  <!-- MAIN -->
  <main>
    <section>
      <div class="container">
        <h2>Gestión de Usuarios</h2>
        <p>Administra clientes y administradores del sistema</p>

        <!-- TABS -->
        <div class="tabs">
          <button class="tab-button active" data-tab="admins">Usuarios</button>
          <button class="tab-button" data-tab="clientes">Clientes</button>
        </div>

        <!-- ADMINISTRADORES -->
        <div id="admins" class="tab-content active">
          <div class="table-header">
            <h3>Lista de Usuarios</h3>
          </div>
          <table>
            <thead>
              <tr><th>ID</th><th>Nombre</th><th>Apellido</th><th>Email</th><th>Rol</th><th>Estado</th><th>Acciones</th></tr>
            </thead>
            <tbody id="adminsTable">
              <tr><td colspan="4">Cargando...</td></tr>
            </tbody>
          </table>
        </div>

        <!-- CLIENTES -->
        <div id="clientes" class="tab-content">
          <div class="table-header"><h3>Clientes Registrados</h3></div>
          <table>
            <thead>
              <tr><th>ID</th><th>Nombre</th><th>Apellido</th><th>Email</th><th>Celular</th><th>Acciones</th></tr>
            </thead>
            <tbody id="clientesTable">
              <tr><td colspan="6">Cargando...</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <div id="footer-container"></div>

  <!-- MODALES -->
  <div id="editModal" class="modal">
    <div class="modal-content">
      <h3>Editar Cliente</h3>
      <input type="text" id="editName" placeholder="Nombre">
      <input type="text" id="editLast" placeholder="Apellido">
      <input type="email" id="editEmail" placeholder="Email">
      <input type="text" id="editPhone" placeholder="Celular">
      <div class="modal-actions">
        <button class="btn-cancel" id="cancelEdit">Cancelar</button>
        <button class="btn-primary" id="saveEdit">Guardar</button>
      </div>
    </div>
  </div>

  <div id="editUserModal" class="modal">
    <div class="modal-content">
      <h3>Editar Usuario</h3>
      <input type="text" id="editUserName" placeholder="Nombre">
      <input type="text" id="editUserLast" placeholder="Apellido">
      <input type="email" id="editUserEmail" placeholder="Correo electrónico">
      <select id="editUserRole">
        <option value="">Selecciona un rol</option>
      </select>
      <select id="editUserEstado">
        <option value="">Selecciona un estado</option>
      </select>
      <div class="modal-actions">
        <button class="btn-cancel" id="cancelEditUser">Cancelar</button>
        <button class="btn-primary" id="saveEditUser">Guardar</button>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script type="module" src="../../js/navbar.js"></script>
  <script type="module" src="../../scripts/modules/clientes.js"></script>
</body>
</html>

